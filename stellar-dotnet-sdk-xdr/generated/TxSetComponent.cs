// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten
using System;

namespace stellar_dotnet_sdk.xdr
{

    // === xdr source ============================================================

    //  union TxSetComponent switch (TxSetComponentType type)
    //  {
    //  case TXSET_COMP_TXS_MAYBE_DISCOUNTED_FEE:
    //    struct
    //    {
    //      int64* baseFee;
    //      TransactionEnvelope txs<>;
    //    } txsMaybeDiscountedFee;
    //  };

    //  ===========================================================================
    public class TxSetComponent
    {
        public TxSetComponent() { }

        public TxSetComponentType Discriminant { get; set; } = new TxSetComponentType();

        public TxSetComponentTxsMaybeDiscountedFee TxsMaybeDiscountedFee { get; set; }
        public static void Encode(XdrDataOutputStream stream, TxSetComponent encodedTxSetComponent)
        {
            stream.WriteInt((int)encodedTxSetComponent.Discriminant.InnerValue);
            switch (encodedTxSetComponent.Discriminant.InnerValue)
            {
                case TxSetComponentType.TxSetComponentTypeEnum.TXSET_COMP_TXS_MAYBE_DISCOUNTED_FEE:
                    TxSetComponentTxsMaybeDiscountedFee.Encode(stream, encodedTxSetComponent.TxsMaybeDiscountedFee);
                    break;
            }
        }
        public static TxSetComponent Decode(XdrDataInputStream stream)
        {
            TxSetComponent decodedTxSetComponent = new TxSetComponent();
            TxSetComponentType discriminant = TxSetComponentType.Decode(stream);
            decodedTxSetComponent.Discriminant = discriminant;
            switch (decodedTxSetComponent.Discriminant.InnerValue)
            {
                case TxSetComponentType.TxSetComponentTypeEnum.TXSET_COMP_TXS_MAYBE_DISCOUNTED_FEE:
                    decodedTxSetComponent.TxsMaybeDiscountedFee = TxSetComponentTxsMaybeDiscountedFee.Decode(stream);
                    break;
            }
            return decodedTxSetComponent;
        }

        public class TxSetComponentTxsMaybeDiscountedFee
        {
            public TxSetComponentTxsMaybeDiscountedFee() { }
            public Int64 BaseFee { get; set; }
            public TransactionEnvelope[] Txs { get; set; }

            public static void Encode(XdrDataOutputStream stream, TxSetComponentTxsMaybeDiscountedFee encodedTxSetComponentTxsMaybeDiscountedFee)
            {
                if (encodedTxSetComponentTxsMaybeDiscountedFee.BaseFee != null)
                {
                    stream.WriteInt(1);
                    Int64.Encode(stream, encodedTxSetComponentTxsMaybeDiscountedFee.BaseFee);
                }
                else
                {
                    stream.WriteInt(0);
                }
                int txssize = encodedTxSetComponentTxsMaybeDiscountedFee.Txs.Length;
                stream.WriteInt(txssize);
                for (int i = 0; i < txssize; i++)
                {
                    TransactionEnvelope.Encode(stream, encodedTxSetComponentTxsMaybeDiscountedFee.Txs[i]);
                }
            }
            public static TxSetComponentTxsMaybeDiscountedFee Decode(XdrDataInputStream stream)
            {
                TxSetComponentTxsMaybeDiscountedFee decodedTxSetComponentTxsMaybeDiscountedFee = new TxSetComponentTxsMaybeDiscountedFee();
                int BaseFeePresent = stream.ReadInt();
                if (BaseFeePresent != 0)
                {
                    decodedTxSetComponentTxsMaybeDiscountedFee.BaseFee = Int64.Decode(stream);
                }
                int txssize = stream.ReadInt();
                decodedTxSetComponentTxsMaybeDiscountedFee.Txs = new TransactionEnvelope[txssize];
                for (int i = 0; i < txssize; i++)
                {
                    decodedTxSetComponentTxsMaybeDiscountedFee.Txs[i] = TransactionEnvelope.Decode(stream);
                }
                return decodedTxSetComponentTxsMaybeDiscountedFee;
            }

        }
    }
}
