// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten
using System;

namespace stellar_dotnet_sdk.xdr {

// === xdr source ============================================================

//  struct Operation
//  {
//      // sourceAccount is the account used to run the operation
//      // if not set, the runtime defaults to "sourceAccount" specified at
//      // the transaction level
//      AccountID* sourceAccount;
//  
//      union switch (OperationType type)
//      {
//      case CREATE_ACCOUNT:
//          CreateAccountOp createAccountOp;
//      case PAYMENT:
//          PaymentOp paymentOp;
//      case PATH_PAYMENT_STRICT_RECEIVE:
//          PathPaymentStrictReceiveOp pathPaymentStrictReceiveOp;
//      case MANAGE_SELL_OFFER:
//          ManageSellOfferOp manageSellOfferOp;
//      case CREATE_PASSIVE_SELL_OFFER:
//          CreatePassiveSellOfferOp createPassiveSellOfferOp;
//      case SET_OPTIONS:
//          SetOptionsOp setOptionsOp;
//      case CHANGE_TRUST:
//          ChangeTrustOp changeTrustOp;
//      case ALLOW_TRUST:
//          AllowTrustOp allowTrustOp;
//      case ACCOUNT_MERGE:
//          AccountID destination;
//      case INFLATION:
//          void;
//      case MANAGE_DATA:
//          ManageDataOp manageDataOp;
//      case BUMP_SEQUENCE:
//          BumpSequenceOp bumpSequenceOp;
//      case MANAGE_BUY_OFFER:
//          ManageBuyOfferOp manageBuyOfferOp;
//      case PATH_PAYMENT_STRICT_SEND:
//          PathPaymentStrictSendOp pathPaymentStrictSendOp;
//      }
//      body;
//  };

//  ===========================================================================
public class Operation  {
  public Operation () {}
  public AccountID SourceAccount {get; set;}
  public OperationBody Body {get; set;}

  public static void Encode(XdrDataOutputStream stream, Operation encodedOperation) {
    if (encodedOperation.SourceAccount != null) {
    stream.WriteInt(1);
    AccountID.Encode(stream, encodedOperation.SourceAccount);
    } else {
    stream.WriteInt(0);
    }
    OperationBody.Encode(stream, encodedOperation.Body);
  }
  public static Operation Decode(XdrDataInputStream stream) {
    Operation decodedOperation = new Operation();
    int SourceAccountPresent = stream.ReadInt();
    if (SourceAccountPresent != 0) {
    decodedOperation.SourceAccount = AccountID.Decode(stream);
    }
    decodedOperation.Body = OperationBody.Decode(stream);
    return decodedOperation;
  }

  public class OperationBody {
    public OperationBody () {}

    public OperationType Discriminant { get; set; } = new OperationType();

    public CreateAccountOp CreateAccountOp {get; set;}
    public PaymentOp PaymentOp {get; set;}
    public PathPaymentStrictReceiveOp PathPaymentStrictReceiveOp {get; set;}
    public ManageSellOfferOp ManageSellOfferOp {get; set;}
    public CreatePassiveSellOfferOp CreatePassiveSellOfferOp {get; set;}
    public SetOptionsOp SetOptionsOp {get; set;}
    public ChangeTrustOp ChangeTrustOp {get; set;}
    public AllowTrustOp AllowTrustOp {get; set;}
    public AccountID Destination {get; set;}
    public ManageDataOp ManageDataOp {get; set;}
    public BumpSequenceOp BumpSequenceOp {get; set;}
    public ManageBuyOfferOp ManageBuyOfferOp {get; set;}
    public PathPaymentStrictSendOp PathPaymentStrictSendOp {get; set;}
    public static void Encode(XdrDataOutputStream stream, OperationBody encodedOperationBody) {
    stream.WriteInt((int)encodedOperationBody.Discriminant.InnerValue);
    switch (encodedOperationBody.Discriminant.InnerValue) {
    case OperationType.OperationTypeEnum.CREATE_ACCOUNT:
    CreateAccountOp.Encode(stream, encodedOperationBody.CreateAccountOp);
    break;
    case OperationType.OperationTypeEnum.PAYMENT:
    PaymentOp.Encode(stream, encodedOperationBody.PaymentOp);
    break;
    case OperationType.OperationTypeEnum.PATH_PAYMENT_STRICT_RECEIVE:
    PathPaymentStrictReceiveOp.Encode(stream, encodedOperationBody.PathPaymentStrictReceiveOp);
    break;
    case OperationType.OperationTypeEnum.MANAGE_SELL_OFFER:
    ManageSellOfferOp.Encode(stream, encodedOperationBody.ManageSellOfferOp);
    break;
    case OperationType.OperationTypeEnum.CREATE_PASSIVE_SELL_OFFER:
    CreatePassiveSellOfferOp.Encode(stream, encodedOperationBody.CreatePassiveSellOfferOp);
    break;
    case OperationType.OperationTypeEnum.SET_OPTIONS:
    SetOptionsOp.Encode(stream, encodedOperationBody.SetOptionsOp);
    break;
    case OperationType.OperationTypeEnum.CHANGE_TRUST:
    ChangeTrustOp.Encode(stream, encodedOperationBody.ChangeTrustOp);
    break;
    case OperationType.OperationTypeEnum.ALLOW_TRUST:
    AllowTrustOp.Encode(stream, encodedOperationBody.AllowTrustOp);
    break;
    case OperationType.OperationTypeEnum.ACCOUNT_MERGE:
    AccountID.Encode(stream, encodedOperationBody.Destination);
    break;
    case OperationType.OperationTypeEnum.INFLATION:
    break;
    case OperationType.OperationTypeEnum.MANAGE_DATA:
    ManageDataOp.Encode(stream, encodedOperationBody.ManageDataOp);
    break;
    case OperationType.OperationTypeEnum.BUMP_SEQUENCE:
    BumpSequenceOp.Encode(stream, encodedOperationBody.BumpSequenceOp);
    break;
    case OperationType.OperationTypeEnum.MANAGE_BUY_OFFER:
    ManageBuyOfferOp.Encode(stream, encodedOperationBody.ManageBuyOfferOp);
    break;
    case OperationType.OperationTypeEnum.PATH_PAYMENT_STRICT_SEND:
    PathPaymentStrictSendOp.Encode(stream, encodedOperationBody.PathPaymentStrictSendOp);
    break;
    }
    }
    public static OperationBody Decode(XdrDataInputStream stream) {
    OperationBody decodedOperationBody = new OperationBody();
    OperationType discriminant = OperationType.Decode(stream);
    decodedOperationBody.Discriminant = discriminant;
    switch (decodedOperationBody.Discriminant.InnerValue) {
    case OperationType.OperationTypeEnum.CREATE_ACCOUNT:
    decodedOperationBody.CreateAccountOp = CreateAccountOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.PAYMENT:
    decodedOperationBody.PaymentOp = PaymentOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.PATH_PAYMENT_STRICT_RECEIVE:
    decodedOperationBody.PathPaymentStrictReceiveOp = PathPaymentStrictReceiveOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.MANAGE_SELL_OFFER:
    decodedOperationBody.ManageSellOfferOp = ManageSellOfferOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.CREATE_PASSIVE_SELL_OFFER:
    decodedOperationBody.CreatePassiveSellOfferOp = CreatePassiveSellOfferOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.SET_OPTIONS:
    decodedOperationBody.SetOptionsOp = SetOptionsOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.CHANGE_TRUST:
    decodedOperationBody.ChangeTrustOp = ChangeTrustOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.ALLOW_TRUST:
    decodedOperationBody.AllowTrustOp = AllowTrustOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.ACCOUNT_MERGE:
    decodedOperationBody.Destination = AccountID.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.INFLATION:
    break;
    case OperationType.OperationTypeEnum.MANAGE_DATA:
    decodedOperationBody.ManageDataOp = ManageDataOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.BUMP_SEQUENCE:
    decodedOperationBody.BumpSequenceOp = BumpSequenceOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.MANAGE_BUY_OFFER:
    decodedOperationBody.ManageBuyOfferOp = ManageBuyOfferOp.Decode(stream);
    break;
    case OperationType.OperationTypeEnum.PATH_PAYMENT_STRICT_SEND:
    decodedOperationBody.PathPaymentStrictSendOp = PathPaymentStrictSendOp.Decode(stream);
    break;
    }
      return decodedOperationBody;
    }

  }
}
}
