// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten

namespace stellar_dotnet_sdk.xdr
{
// === xdr source ============================================================

//  union TransactionMeta switch (int v)
//  {
//  case 0:
//      OperationMeta operations<>;
//  };

//  ===========================================================================
    public class TransactionMeta
    {
        public int Discriminant { get; set; }

        public OperationMeta[] Operations { get; set; }

        public static void Encode(XdrDataOutputStream stream, TransactionMeta encodedTransactionMeta)
        {
            stream.WriteInt(encodedTransactionMeta.Discriminant);
            switch (encodedTransactionMeta.Discriminant)
            {
                case 0:
                    var operationssize = encodedTransactionMeta.Operations.Length;
                    stream.WriteInt(operationssize);
                    for (var i = 0; i < operationssize; i++) OperationMeta.Encode(stream, encodedTransactionMeta.Operations[i]);
                    break;
            }
        }

        public static TransactionMeta Decode(XdrDataInputStream stream)
        {
            var decodedTransactionMeta = new TransactionMeta();
            var discriminant = stream.ReadInt();
            decodedTransactionMeta.Discriminant = discriminant;
            switch (decodedTransactionMeta.Discriminant)
            {
                case 0:
                    var operationssize = stream.ReadInt();
                    decodedTransactionMeta.Operations = new OperationMeta[operationssize];
                    for (var i = 0; i < operationssize; i++) decodedTransactionMeta.Operations[i] = OperationMeta.Decode(stream);
                    break;
            }
            return decodedTransactionMeta;
        }
    }
}